<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Elua-svn] r245 - trunk/doc/en
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/elua-svn/2009-March/index.html" >
   <LINK REL="made" HREF="mailto:elua-svn%40lists.berlios.de?Subject=Re%3A%20%5BElua-svn%5D%20r245%20-%20trunk/doc/en&In-Reply-To=%3C200903061918.n26JIo5d005441%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000200.html">
   <LINK REL="Next"  HREF="000202.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Elua-svn] r245 - trunk/doc/en</H1>
    <B>bogdanm at BerliOS</B> 
    <A HREF="mailto:elua-svn%40lists.berlios.de?Subject=Re%3A%20%5BElua-svn%5D%20r245%20-%20trunk/doc/en&In-Reply-To=%3C200903061918.n26JIo5d005441%40sheep.berlios.de%3E"
       TITLE="[Elua-svn] r245 - trunk/doc/en">bogdanm at mail.berlios.de
       </A><BR>
    <I>Fri Mar  6 20:18:50 CET 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="000200.html">[Elua-svn] r244 - trunk
</A></li>
        <LI>Next message: <A HREF="000202.html">[Elua-svn] r246 - in trunk: inc src src/modules src/platform/lm3s
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#201">[ date ]</a>
              <a href="thread.html#201">[ thread ]</a>
              <a href="subject.html#201">[ subject ]</a>
              <a href="author.html#201">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: bogdanm
Date: 2009-03-06 20:18:50 +0100 (Fri, 06 Mar 2009)
New Revision: 245

Modified:
   trunk/doc/en/faq.html
Log:
reformatted and updated faq.html

Modified: trunk/doc/en/faq.html
===================================================================
--- trunk/doc/en/faq.html	2009-03-05 22:48:08 UTC (rev 244)
+++ trunk/doc/en/faq.html	2009-03-06 19:18:50 UTC (rev 245)
@@ -1,209 +1,135 @@
 &lt;!DOCTYPE HTML PUBLIC &quot;-//W3C//DTD HTML 4.0 Strict//EN&quot;&gt;
 &lt;html&gt;&lt;head&gt;
 &lt;meta http-equiv=&quot;content-type&quot; content=&quot;text/html; charset=ISO-8859-1&quot;&gt;
-&lt;meta http-equiv=&quot;Content-Language&quot; content=&quot;en-us&quot;&gt;&lt;title&gt;Product&lt;/title&gt;
+&lt;meta http-equiv=&quot;Content-Language&quot; content=&quot;en-us&quot;&gt;&lt;title&gt;eLua FAQ&lt;/title&gt;
 
 &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;../style.css&quot;&gt;&lt;/head&gt;
 &lt;body style=&quot;background-color: rgb(255, 255, 255);&quot;&gt;
-&lt;h3&gt;eLua Frequently Asked Questions&lt;/h3&gt;&lt;br&gt;&lt;p&gt;Welcome to the official eLua FAQ! 
-It is assumed that you already know &lt;a&gt;what eLua is&lt;/a&gt;, so here's a list of questions you might find useful while exploring eLua.&lt;/p&gt;
+&lt;h3&gt;eLua Frequently Asked Questions&lt;/h3&gt;&lt;p&gt;Welcome to the official &lt;b&gt;eLua&lt;/b&gt; FAQ! 
+It is assumed that you already know what &lt;b&gt;eLua&lt;/b&gt;, so here's a list of questions (and their answers) that you might find useful.&lt;/p&gt;
 
-&lt;ul&gt;&lt;li&gt;&lt;p&gt;&lt;a href=&quot;faq.html#learnlua&quot;&gt;How can I learn Lua? Is it hard?&lt;/a&gt;&lt;br&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;a href=&quot;faq.html#helpelua&quot;&gt;How can I help eLua?&lt;/a&gt;&lt;br&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;a href=&quot;faq.html#comercial&quot;&gt;Can I use eLua in my commercial, closed source project?&lt;/a&gt;&lt;br&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;a href=&quot;faq.html#fast&quot;&gt;Is eLua fast enough?&lt;/a&gt;&lt;br&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;a href=&quot;faq.html#minimuns&quot;&gt;What are the minimum requirements for eLua?&lt;/a&gt;&lt;br&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;a href=&quot;faq.html#portability&quot;&gt;Since
-I'm using the Lua platform modules (uart, spi, pwm, tmr...), can I
-trust my peripheral code to run the same on all my platforms?&lt;/a&gt;&lt;br&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;a href=&quot;faq.html#luaversions&quot;&gt;What's the deal with floating-point Lua and integer only Lua?&lt;/a&gt;&lt;br&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;a href=&quot;faq.html#windows&quot;&gt;All your tutorials give instructions on how to compile eLua under Linux, yet you seem to use a lot of Windows tools. How come?&lt;/a&gt;&lt;br&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;a href=&quot;faq.html#cygwin&quot;&gt;Will you ever post instructions about how to compile toolchains under Cygwin in Windows?&lt;/a&gt;&lt;br&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;a href=&quot;faq.html#bytecode&quot;&gt;I
-know that Lua can be compiled to bytecode, so I compiled one of the
-eLua examples with luac and tried to run it on my eLua board, but it
-didn't work. Is this a bug in eLua?&lt;/a&gt;&lt;br&gt;&lt;/p&gt;&lt;/li&gt;&lt;li&gt;&lt;p&gt;&lt;a href=&quot;faq.html#outofmemory&quot;&gt;I get &quot;out of memory&quot; errors when I run my Lua programs, what should I do?&lt;/a&gt;&lt;br&gt;&lt;/p&gt;&lt;/li&gt;&lt;/ul&gt;
-
-&lt;p&gt;&lt;br&gt;&lt;/p&gt;
-
+&lt;ul&gt;
+  &lt;li&gt;&lt;a href=&quot;faq.html#learnlua&quot;&gt;How can I learn Lua? Is it hard?&lt;/a&gt;&lt;/li&gt;
+  &lt;li&gt;&lt;a href=&quot;faq.html#helpelua&quot;&gt;How can I help eLua?&lt;/a&gt;
+  &lt;li&gt;&lt;a href=&quot;faq.html#comercial&quot;&gt;Can I use eLua in my commercial, closed source project?&lt;/a&gt;
+  &lt;li&gt;&lt;a href=&quot;faq.html#fast&quot;&gt;Is eLua fast enough?&lt;/a&gt;
+  &lt;li&gt;&lt;a href=&quot;faq.html#minimum&quot;&gt;What are the minimum requirements for eLua?&lt;/a&gt;&lt;/li&gt;
+  &lt;li&gt;&lt;a href=&quot;faq.html#portability&quot;&gt;Since I'm using the Lua platform modules (uart, spi, pwm, tmr...), can I trust my peripheral code to run the 
+  same on all my platforms?&lt;/a&gt;&lt;/li&gt;
+  &lt;li&gt;&lt;a href=&quot;faq.html#luaversions&quot;&gt;What's the deal with floating-point Lua and integer only Lua?&lt;/a&gt;&lt;/li&gt;
+  &lt;li&gt;&lt;a href=&quot;faq.html#windows&quot;&gt;All your tutorials give instructions on how to compile eLua under Linux, yet you seem to use a lot of Windows tools. 
+  How come?&lt;/a&gt;
+  &lt;li&gt;&lt;a href=&quot;faq.html#cygwin&quot;&gt;Will you ever post instructions about how to compile toolchains under Cygwin in Windows?&lt;/a&gt;&lt;/li&gt;
+  &lt;li&gt;&lt;a href=&quot;faq.html#bytecode&quot;&gt;I know that Lua can be compiled to bytecode, so I compiled one of the eLua examples with luac and tried to run it on 
+  my eLua board, but it didn't work. Is this a bug in eLua?&lt;/li&gt;
+  &lt;li&gt;&lt;a href=&quot;faq.html#outofmemory&quot;&gt;I get &quot;out of memory&quot; errors when I run my Lua programs, what should I do?&lt;/li&gt;
+&lt;/ul&gt;
 &lt;hr&gt;
 
-&lt;p&gt;&lt;a name=&quot;learnlua&quot;&gt;&lt;/a&gt;
-&lt;strong&gt;Q: How can I learn Lua? Is it hard?&lt;/strong&gt;&lt;/p&gt;
+&lt;a name=&quot;learnlua&quot;&gt;&lt;h2&gt;How can I learn Lua? Is it hard?&lt;/h2&gt;&lt;/a&gt;
+&lt;p&gt;Lua is a minimalistic language (yet very powerful) which is quite easy to learn. Once you understand the basic concepts you'll find yourself writing 
+  Lua programs in notime. The main resource is the &lt;a target=&quot;_blank&quot; href=&quot;<A HREF="http://www.lua.org/">http://www.lua.org/</A>&quot;&gt;Lua homepage&lt;/a&gt;. In the 
+  &lt;a target=&quot;_blank&quot; href=&quot;<A HREF="http://www.lua.org/docs.html">http://www.lua.org/docs.html</A>&quot;&gt;documentation page&lt;/a&gt; you'll find the reference manual and the first version of the excellent
+  &quot;Programming in Lua&quot; book. I recommend purchasing the second version of this book, since it's likely that this is all you'll ever need to learn
+  Lua. Another very good resource is the &lt;a target=&quot;_blank&quot; href=&quot;<A HREF="http://lua-users.org/wiki/">http://lua-users.org/wiki/</A>&quot;&gt;Lua wiki&lt;/a&gt;. If you need more help, check the 
+  &lt;a target=&quot;_blank&quot; href=&quot;<A HREF="http://www.lua.org/community.html">http://www.lua.org/community.html</A>&quot;&gt;community page&lt;/a&gt;. Lua has a very friendly and active community.&lt;/p&gt;
 
-&lt;p&gt;A: Lua is a minimalistic language (yet very powerful) which is quite
-easy to learn. Once you understand the basic concepts you'll find
-yourself writing Lua programs in notime. The main resource is the &lt;a target=&quot;_top&quot; href=&quot;<A HREF="http://www.lua.org/">http://www.lua.org/</A>&quot;&gt;Lua homepage&lt;/a&gt;. In the &lt;a target=&quot;_top&quot; href=&quot;<A HREF="http://www.lua.org/docs.html">http://www.lua.org/docs.html</A>&quot;&gt;documentation page&lt;/a&gt;
-you'll find the reference manual and the first version of the excellent
-&quot;Programming in Lua&quot; book. I recommend purchasing the second version of
-this book, since it's likely that this is all you'll ever need to learn
-Lua. Another very good resource is the &lt;a target=&quot;_top&quot; href=&quot;<A HREF="http://lua-users.org/wiki/">http://lua-users.org/wiki/</A>&quot;&gt;Lua wiki&lt;/a&gt;. If you need more help, check the &lt;a target=&quot;_top&quot; href=&quot;<A HREF="http://www.lua.org/community.html">http://www.lua.org/community.html</A>&quot;&gt;community page&lt;/a&gt;. Lua has a very friendly and active community.&lt;/p&gt;&lt;p&gt;&lt;/p&gt;&lt;br&gt;&lt;p&gt;&lt;a name=&quot;helpelua&quot;&gt;&lt;/a&gt;
-&lt;strong&gt;Q: How can I help eLua?&lt;/strong&gt;&lt;/p&gt;
+&lt;a name=&quot;helpelua&quot;&gt;&lt;h2&gt;How can I help eLua?&lt;/h2&gt;&lt;/a&gt;
+&lt;p&gt;&lt;b&gt;eLua&lt;/b&gt; has many ambitious goals, so it would be great to have more people working on it. Take a look at the 
+  &lt;a href=&quot;status.html#roadmap&quot;&gt;roadmap page&lt;/a&gt;, and if you see something there that you'd like to work on, don't hesitate to 
+  &lt;a href=&quot;overview.html#contacts&quot;&gt;contact us&lt;/a&gt;. Also, if you'd like to make a donation to the project (money, or maybe a development board) 
+  rest assured that wwe won't say no :) It also helps a lot if you test &lt;b&gt;eLua&lt;/b&gt; on your own board and you find a bug or an
+  incomplete feature. Or if you just thought about a cool feature that you'd like to see in &lt;b&gt;eLua&lt;/b&gt;.
+  If so, feel free to &lt;a href=&quot;overview.html#contacts&quot;&gt;contact us&lt;/a&gt;.&lt;/p&gt;
 
-&lt;p&gt;A: OK, so I lied, this is NOT a frequently asked question :)
-However, if you really want to help eLua, keep in mind that we're
-looking for developers. eLua has many ambitious goals, so it would be
-great to have more people working on it. Take a look at the &lt;a href=&quot;status.html#roadmap&quot;&gt;roadmap page&lt;/a&gt;, and if you see something there that you'd like to implement, don't hesitate to &lt;a href=&quot;overview.html#contacts&quot;&gt;contact us&lt;/a&gt;.
-Also, if you'd like to make a donation to the project (money, or maybe
-a development board) rest assured that wwe won't say no :) It also
-helps a lot if you test eLua on your own board and you find a bug or an
-incomplete feature. Or if you just thought about a cool feature that
-you'd like to see in eLua. If so, feel free to &lt;a href=&quot;overview.html#contacts&quot;&gt;contact us&lt;/a&gt;.&lt;/p&gt;&lt;p&gt;&lt;/p&gt;
+&lt;a name=&quot;comercial&quot;&gt;&lt;h2&gt;Can I use eLua in my commercial, closed source project?&lt;/h2&gt;&lt;/a&gt;
+&lt;p&gt;Starting with version 0.6, &lt;b&gt;eLua&lt;/b&gt; distributed under a MIT license, so you can use it in your close source projects. Prior to this it was 
+   distributed under GPL, which restricted its usage to open source applications only. Be careful though, &lt;b&gt;eLua&lt;/b&gt; includes some 3rd party libraries,
+   each with its own licensing terms that might be more restrictive than MIT. See &lt;a href=&quot;overview.html#license&quot;&gt;the eLua license&lt;/a&gt; for details.&lt;/p&gt; 
 
-&lt;p&gt;&lt;a name=&quot;comercial&quot;&gt;&lt;/a&gt;
-&lt;strong&gt;Q: Can I use eLua in my commercial, closed source project?&lt;/strong&gt;&lt;/p&gt;
+&lt;a name=&quot;fast&quot;&gt;&lt;/a&gt;&lt;h2&gt;Is eLua fast enough?&lt;/h2&gt;&lt;/a&gt;
+&lt;p&gt;This pretty much depends on what you expect. If you expect your Lua code to run as fast as your compiled C code, this won't happen, simply because C 
+  is a compiled language, while Lua is an interpreted language. That said, you'll be happy to know that Lua is one of the fastest interpreted languages 
+  out there. If you really need both high speed and Lua, you can write your speed critical code sections in C and export them as a Lua module. 
+  This way you get the best of both worlds. We don't have any official benchmarks about Lua speed on embedded devices, but you might want to check the 
+  TV-B-Gone example on the &lt;a href=&quot;examples.html&quot;&gt;##examples page&lt;/a&gt;.TV-B-Gone is a &quot;software remote control&quot; application coded directly in &lt;b&gt;eLua&lt;/b&gt;. 
+  If you're familiar with the remote control protocols, you'll know that this kind of application is quite &quot;real time&quot;, and delays in the order of 
+  milliseconds or even less can make your software remote control fail. Yet this sample runs without problems on a 50MHz Cortex (Thumb2) CPU. This should 
+  give you a fairly intuitive view on the speed of eLua.&lt;/p&gt;
 
-&lt;p&gt;A: ### This needs to be updated for the BSD license .........&lt;/p&gt;&lt;p&gt;&lt;/p&gt;
-
-&lt;p&gt;&lt;a name=&quot;fast&quot;&gt;&lt;/a&gt;
-&lt;strong&gt;Q: Is eLua fast enough?&lt;/strong&gt;&lt;/p&gt;
-
-&lt;p&gt;A: This pretty much depends on what you expect. If you expect your
-Lua code to run as fast as your compiled C code, this won't happen,
-simply because C is a compiled language, while Lua is an interpreted
-language. That said, you'll be happy to know that Lua is one of the
-fastest interpreted languages out there. If you really need both high
-speed and Lua, you can write your speed critical code sections in C and
-export them as a Lua module. This way you get the best of both worlds.
-We don't have any official benchmarks about Lua speed on embedded
-devices, but you might want to check the TV-B-Gone example on the &lt;a href=&quot;examples.html&quot;&gt;examples page&lt;/a&gt;.
-TV-B-Gone is a &quot;software remote control&quot; application coded directly in
-eLua. If you're familiar with the remote control protocols, you'll know
-that this kind of application is quite &quot;real time&quot;, and delays in the
-order of milliseconds or even less can make your software remote
-control fail. Yet this sample runs without problems on a 50MHz Cortex
-(Thumb2) CPU. This should give you a fairly intuitive view on the speed
-of eLua.&lt;/p&gt;&lt;p&gt;&lt;/p&gt;
-
-&lt;p&gt;&lt;a name=&quot;minimuns&quot;&gt;&lt;/a&gt;
-&lt;strong&gt;Q: What are the minimum requirements for eLua?&lt;/strong&gt;&lt;/p&gt;
-
-&lt;p&gt;A: It's hard to give a precise answer to this. As a general rule for
+&lt;a name=&quot;minimum&quot;&gt;&lt;h2&gt;What are the minimum requirements for eLua?&lt;/h2&gt;&lt;/a&gt;
+&lt;p&gt;It's hard to give a precise answer to this. As a general rule for
 a 32-bit CPU, we recommend at least 256k of Flash (program memory) and
 at least 64k of RAM. However, this isn't a strict requirement. A
 stripped down, integer-only version of eLua can definetely fit in 128k
 of Flash, and depending on your type of application, 32k of RAM might
-prove just fine. It largely depends on your needs.&lt;/p&gt;&lt;p&gt;&lt;/p&gt;
+prove just fine. It largely depends on your needs.&lt;/p&gt;
 
-&lt;p&gt;&lt;a name=&quot;portability&quot;&gt;&lt;/a&gt;
-&lt;strong&gt;Q: Since I'm using the Lua platform modules (uart, spi, pwm,
-tmr...), can I trust my peripheral code to run the same on all my
-platforms?&lt;/strong&gt;&lt;/p&gt;
+&lt;a name=&quot;portability&quot;&gt;&lt;h2&gt;Since I'm using the Lua platform modules (uart, spi, pwm, tmr...), can I trust my peripheral code to run the same on all my
+  platforms?&lt;/h2&gt;&lt;/a&gt;
+&lt;p&gt;Unfortunately, no. While &lt;b&gt;eLua&lt;/b&gt; makes it possible to have a common code on different platforms using the &lt;a href=&quot;&quot;&gt;##platform interface&lt;/a&gt;,
+  it can't possibly provide the same functionality on all platforms, since all MCUs are not created equal. It is very recommended 
+  (and many times imperative) to have an understanding of the peripherals on your particular MPU before you start writing your code. 
+  This, of course, is not particular to &lt;b&gt;eLua&lt;/b&gt;, but it's especially important since the platform interface might give the impression that it 
+  offers an uniform functionality over all platforms, when in fact the only thing in common is often just the interface itself (that is, the methods and 
+  variables you can access in a given module). &lt;b&gt;eLua&lt;/b&gt; tries to help here by giving you an error when you try to access a physical resource that is 
+  not available (for example a timer, a PWM channel, or a PIO pin/port), but it doesn't try to cover all the possible platform-related issues, since this 
+  would increase the code size and complexity too much. These are some caveats that come to mind (note that these are only a few examples, the complete 
+  list is much longer):&lt;/p&gt;
+&lt;ul&gt;
+  &lt;li&gt;&lt;b&gt;timers&lt;/b&gt;: from all the platforms on which &lt;b&gt;eLua&lt;/b&gt; runs, only the Luminary Cortex CPUs has rock solid 32-bit timers. You can do pretty much 
+  everything you need with them. All the other platforms have 16-bit timers, which imposes some limits on the range of delays you can achieve with them. 
+  Make sure to use tmr.mindelay(id) and tmr.maxdelay(id) to check the actual resolution of your timers, and adapt your code accordingly. To 'compensate' 
+  for this, it's not possible to change the base timer frequency on the Cortex CPUs, but it is possible on most other platforms :) So be sure to also check 
+  the result of tmr.setclock(id)&lt;/li&gt;
+  &lt;li&gt;also, when using timers, remember that if you're using XMODEM and/or the &quot;term&quot; module, one of them (generall TMR0) is used by both of them. So, if 
+  you change the TMR0 base clock in your code, be sure to restore the original setting before returning to the &lt;b&gt;eLua&lt;/b&gt; shell.&lt;/li&gt;
+  &lt;li&gt;&lt;b&gt;PWM&lt;/b&gt;: the Cortex CPUs have 6 PWM channels, but channels 0/1, 2/3 and 4/5 respectively share the same base clock setting. So, when you're
+  changing the base clock for channel 1, you're also changing the base clock for channel 0; if channel 0 was already running, you won't like
+  what will happen next. This time no eLua function can save you, you simply need you know your CPU architecture.&lt;/li&gt;
+  &lt;li&gt;&lt;b&gt;GPIO&lt;/b&gt;: only some platform have internal pullups for the GPIO pins (others might also have pulldowns). However, in this case you're safe, as 
+  &lt;b&gt;eLua&lt;/b&gt; will signal an error if you try to execute a pullup operatin on a platform that does not support it.&lt;/li&gt;
+&lt;/ul&gt;
+&lt;p&gt;The lesson here is clear: understand your platform first!&lt;/p&gt;
 
-&lt;p&gt;A: Unfortunately, no. While eLua makes it possible to have a common
-code on different platforms using the platform interface
-(docs/platform_interface.txt), it can't possibly provide the same
-functionality on all platforms, since all CPUs are not created equal.
-It is very recommended (and many times imperative) to have an
-understanding of the peripherals on your particular CPU before you
-write your code. This, of course, is not particular to eLua, but it's
-especially important since the platform interface might give the
-impression that it offers an uniform functionality over all platforms,
-when in fact the only thing in common is often just the interface
-itself (that is, the methods and variables you can access in a given
-module). eLua tries to help here by giving you an error when you try to
-access a physical resource that is not available (for example a timer,
-a PWM channel, or a PIO pin/port), but it doesn't try to cover all the
-possible platform-related issues, since this would increase the code
-size and complexity too much. These are some caveats that come to mind
-(note that these are only a few examples, the complete list is much
-longer):&lt;/p&gt;
+&lt;a name=&quot;luaversions&quot;&gt;&lt;h2&gt;What's the deal with floating-point Lua and integer only Lua?&lt;/h2&gt;&lt;/a&gt;
+&lt;p&gt;Lua is build around a number type. Every number in Lua will have this type. By default, this number type is a double. This means that even if your 
+  program only does integer operations, they will still be treated as doubles. On embedded platforms this is a problem, since the floating point 
+  operations are generally emulated in software, thus they are very slow. This is why &lt;b&gt;eLua&lt;/b&gt; gives you &quot;integer only Lua&quot;: a Lua with the default 
+  number type changed to long. The advantages are increased speed and smaller code size (since we can force Newlib to &quot;cut&quot; the floating point code from 
+  printf/scanf and friends, which has quite a strong impact on the code size) and increased speed. The downside is that you'll loose the ability to do 
+  any floating point operations (although a separate module that will partially overcome this limitation will be provided in the future).&lt;/p&gt;
 
+&lt;a name=&quot;windows&quot;&gt;&lt;h2&gt;All your tutorials give instructions on how to compile eLua under Linux, yet you seem to use a lot of Windows tools. How come?&lt;/h2&gt;&lt;/a&gt;
+&lt;p&gt;It's true that we do all the &lt;b&gt;eLua&lt;/b&gt; development under Linux, since we find Linux an environment much more suited for development. At the same
+  time it's true that most of the tools that come with my development boards run under Windows. So we choose to use the best of both world: Bogdan runs 
+  Linux under a &lt;a target=&quot;_blank&quot; href=&quot;<A HREF="http://www.virtualbox.org">http://www.virtualbox.org</A>&quot;&gt;VirtualBox&lt;/a&gt; emulator, and does verything else under Windows. Dado does everything on 
+  Linux and runs Windows under &lt;a href=&quot;<A HREF="http://www.vmware.com">http://www.vmware.com</A>&quot; target=&quot;_blank&quot;&gt;VMWare&lt;/a&gt;. Both options are nice if you master your environment. To make 
+  everything even more flexible, Bogdan keeps his VirtualBox Ubuntu image on an external WD passport disk that he can carry with him wherever he goes, 
+  so he can work on eLua whenever he has a bit of spare time :)&lt;/p&gt;
 
-&lt;ul&gt;&lt;li&gt;timers: from all the platforms on which eLua runs, only
-the Luminary Cortex CPUs has rock solid 32-bit timers. You can do
-pretty much everything you need with them. All the other platforms have
-16-bit timers, which imposes some limits on the range of delays you can
-achieve with them. Make sure to use tmr.mindelay(id) and
-tmr.maxdelay(id) to check the actual resolution of your timers, and
-adapt your code accordingly. To 'compensate' for this, it's not
-possible to change the base timer frequency on the Cortex CPUs, but it
-is possible on most other platforms :) So be sure to also check the
-result of tmr.setclock(id)&lt;/li&gt;&lt;li&gt;also, when using timers,
-remember that if you're using XMODEM and/or the &quot;term&quot; module, TMR0 is
-used by both of them. So, if you change the TMR0 base clock in your
-code, be sure to restore the original setting before returning to the
-shell. You can change this static timer assignment by modifying
-src/main.c. It might also be possible to change it dynamically in the
-future, although I see little use for this.&lt;/li&gt;&lt;li&gt;PWM: the
-Cortex CPUs have 6 PWM channels, but channels 0/1, 2/3 and 4/5
-respectively share the same base clock setting. So, when you're
-changing the base clock for channel 1, you're also changing the base
-clock for channel 0; if channel 0 was already running, you won't like
-what will happen next. This time no eLua function can save you, you
-simply need you know your CPU architecture.&lt;/li&gt;&lt;li&gt;GPIO: only
-some platform have internal pullups for the GPIO pins, while Cortex is
-the only platform that also provides pulldowns for its GPIOs. However,
-in this case you're safe, as eLua will signal an error if you try to
-execute a pullup operatin on a platform that does not support it.&lt;/li&gt;&lt;/ul&gt;
+&lt;a name=&quot;cygwin&quot;&gt;&lt;h2&gt;Will you ever post instructions about how to compile toolchains under Cygwin in Windows?&lt;/h2&gt;&lt;/a&gt;
+&lt;p&gt;Bogdan: If I ever have way too much spare time on my hands, yes. Otherwise, no. There are many reasons for this. As I already mentioned, I favour Linux 
+  over Windows when it comes to developing applications. Also, I noticed that the GNU based toolchains are noticeable slower on Cygwin than on Linux, so 
+  experimenting with them can prove frustrating. Also, compiling under Linux and Cygwin should be quite similar,so try starting from my Linux based 
+  tutorials, they might work as well on Cygwin.&lt;/p&gt;
 
-&lt;p&gt;The lesson here is clear: understand your platform first!&lt;/p&gt;&lt;p&gt;&lt;/p&gt;
+&lt;a name=&quot;bytecode&quot;&gt;&lt;h2&gt;I know that Lua can be compiled to bytecode, so I compiled one of the eLua examples with luac and tried to run it on my eLua
+  board, but it didn't work. Is this a bug in eLua?&lt;/h2&gt;&lt;/a&gt;
+&lt;p&gt;This is not a bug in &lt;b&gt;eLua&lt;/b&gt;, it's a bit more subtle than that. See &lt;a href=&quot;using.html#cross&quot;&gt;the cross-compile section&lt;/a&gt; for a full discussion
+  about this problem and its fix.&lt;/p&gt;
 
-
-&lt;p&gt;&lt;a name=&quot;luaversions&quot;&gt;&lt;/a&gt;
-&lt;strong&gt;Q: What's the deal with floating-point Lua and integer only Lua?&lt;/strong&gt;&lt;/p&gt;
-
-&lt;p&gt;A: Lua is build around a number type. Every number in Lua will have
-this type. By default, this number type is a double. This means that
-even if your program only does integer operations, they will still be
-treated as doubles. On embedded platforms this is a problem, since the
-floating point operations are generally emulated in software, thus they
-are very slow. This is why eLua gives you &quot;integer only Lua&quot;: a Lua
-with the default number type changed to long. The advantages are
-increased speed and smaller code size (since we can force Newlib to
-&quot;cut&quot; the floating point code from printf/scanf and friends, which has
-quite a strong impact on the code size) and increased speed. The
-downside is that you'll loose the ability to do any floating point
-operations.&lt;/p&gt;&lt;p&gt;&lt;/p&gt;
-
-
-&lt;p&gt;&lt;a name=&quot;windows&quot;&gt;&lt;/a&gt;
-&lt;strong&gt;Q: All your tutorials give instructions on how to compile eLua
-under Linux, yet you seem to use a lot of Windows tools. How come?&lt;/strong&gt;&lt;/p&gt;
-
-&lt;p&gt;A: It's true that we do all the eLua development under Linux, since we
-find Linux an environment much more suited for development. At the same
-time it's true that most of the tools that come with my development
-boards run under Windows. So we choose to use the best of both world: Bogdan runs&nbsp;Linux under an Virtual Machine Manager (&lt;a target=&quot;_top&quot; href=&quot;<A HREF="http://www.virtualbox.org/">http://www.virtualbox.org/</A>&quot;&gt;VirtualBox&lt;/a&gt;) and do&nbsp;everything else under Windows. Dado does everything on Linux and runs Windows under &lt;a href=&quot;<A HREF="http://www.vmware.com">http://www.vmware.com</A>&quot; target=&quot;_top&quot;&gt;VMWare&lt;/a&gt;. Both options are nice if you master your environment. To make everything even more flexible, Bogdan keeps his
-VirtualBox Ubuntu image on an external WD passport disk that he can
-carry with him wherever he goes, so he can work on eLua whenever he has a
-bit of spare time :)&lt;/p&gt;&lt;p&gt;&lt;/p&gt;
-
-
-&lt;p&gt;&lt;a name=&quot;cygwin&quot;&gt;&lt;/a&gt;
-&lt;strong&gt;Q: Will you ever post instructions about how to compile toolchains under Cygwin in Windows?&lt;/strong&gt;&lt;/p&gt;
-
-&lt;p&gt;A: Bogdan: If I ever have way too much spare time on my hands, yes.
-Otherwise, no. There are many reasons for this. As I already mentioned,
-I favour Linux over Windows when it comes to developing applications.
-Also, I noticed that the GNU based toolchains are noticeable slower on
-Cygwin than on Linux, so experimenting with them can prove frustrating.
-Also, compiling under Linux and Cygwin should be quite similar, so try
-starting from my Linux based tutorials, they might work as well on
-Cygwin.&lt;/p&gt;&lt;p&gt;&lt;/p&gt;
-
-
-&lt;p&gt;&lt;a name=&quot;bytecode&quot;&gt;&lt;/a&gt;
-&lt;strong&gt;Q: I know that Lua can be compiled to bytecode, so I compiled
-one of the eLua examples with luac and tried to run it on my eLua
-board, but it didn't work. Is this a bug in eLua?&lt;/strong&gt;&lt;/p&gt;
-
-&lt;p&gt;A: This is not a bug in eLua, it's a bit more subtle than that. It's
-true that ARM and i386 are very similar when it comes to data types:
-all the fundamental data types have the same length, and they are both
-little endian. So, in theory, if you compile a Lua source file on PC
-you should be able to run the compiled bytecode on your eLua board
-without any modifications. But there's a problem here: the default
-double precision floating point representation is different on ARM and
-PC. So, while the two data types have the same endianess and size, they
-are represented differently in memory. This means that you can't use
-the &quot;regular&quot; luac compiler for this task. However, starting with
-version 0.5, you can cross-compile Lua code on PC to run on target.&nbsp;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;
-
-
-&lt;p&gt;&lt;a name=&quot;outofmemory&quot;&gt;&lt;/a&gt;
-&lt;strong&gt;Q: I get &quot;out of memory&quot; errors when I run my Lua programs, what should I do?&lt;/strong&gt;&lt;/p&gt;
-
-&lt;p&gt;A: There are a number of things you can try to overcome this:&lt;/p&gt;
-
-&lt;ul&gt;&lt;li&gt;precompile your source to bytecode:&nbsp; If you use bytecode instead of
-source code Lua won't need to compile your source, so you save some RAM.&lt;/li&gt;&lt;li&gt;try
-to avoid using too many strings: strings are immutable in Lua. That
-means that a statement like s = s .. &quot;\n&quot; (where s is a string) will
-create a new string each time it's called. If this happens a lot (for
-example in a loop), your memory will quickly run out because of all the
-strings. If you really need to do frequent string operations, put them
-in a table and then use &lt;a href=&quot;<A HREF="http://www.lua.org/manual/5.1/manual.html#5.5">http://www.lua.org/manual/5.1/manual.html#5.5</A>&quot;&gt;table.concat&lt;/a&gt; to make a string from your table.&lt;/li&gt;&lt;li&gt;controll Lua's garbage collection&nbsp;manually: if you're still running out of memory, try
-calling collectgarbage('collect') from your code, which will force a
-garbage collection and thus might free some memory.&lt;/li&gt;&lt;/ul&gt;&lt;br&gt;&lt;br&gt;&lt;/body&gt;&lt;/html&gt;
\ No newline at end of file
+&lt;a name=&quot;outofmemory&quot;&gt;&lt;h2&gt;I get &quot;out of memory&quot; errors when I run my Lua programs, what should I do?&lt;/h2&gt;&lt;/a&gt;
+&lt;p&gt;There are a number of things you can try to overcome this:&lt;/p&gt;
+&lt;ul&gt;
+  &lt;li&gt;&lt;b&gt;enable the LTR patch&lt;/b&gt;: you can get very significant improvements if you enable the LTR patch in your &lt;b&gt;eLua&lt;/b&gt; image. See 
+  &lt;a href=&quot;&quot;&gt;##here&lt;/a&gt; for more details about LTR, and &lt;a href=&quot;building.html&quot;&gt;here&lt;/a&gt; for instructions about enabling LTR.&lt;/li&gt;
+  &lt;li&gt;&lt;b&gt;precompile your source to bytecode&lt;/b&gt;: if you use bytecode instead of source code Lua won't need to compile your source, so you save some RAM.&lt;/li&gt;
+  &lt;li&gt;&lt;b&gt;try to avoid using too many strings&lt;/b&gt;: strings are immutable in Lua. That means that a statement like &lt;i&gt;s = s .. &quot;\n&quot;&lt;/i&gt; (where s is a string) 
+  will create a new string each time it's called. If this happens a lot (for example in a loop), your memory will quickly run out because of all the
+  strings. If you really need to do frequent string operations, put them in a table and then use 
+  &lt;a target=&quot;_blank&quot; href=&quot;<A HREF="http://www.lua.org/manual/5.1/manual.html#5.5">http://www.lua.org/manual/5.1/manual.html#5.5</A>&quot;&gt;table.concat&lt;/a&gt; to make a string from your table.&lt;/li&gt;
+  &lt;li&gt;&lt;b&gt;control Lua's garbage collection manually&lt;/b&gt;: if you're still running out of memory, try calling &lt;i&gt;collectgarbage('collect')&lt;/i&gt; from your code, 
+  which will force a garbage collection and thus might free some memory.&lt;/li&gt;
+&lt;/ul&gt;
+&lt;/body&gt;&lt;/html&gt;


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000200.html">[Elua-svn] r244 - trunk
</A></li>
	<LI>Next message: <A HREF="000202.html">[Elua-svn] r246 - in trunk: inc src src/modules src/platform/lm3s
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#201">[ date ]</a>
              <a href="thread.html#201">[ thread ]</a>
              <a href="subject.html#201">[ subject ]</a>
              <a href="author.html#201">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/elua-svn">More information about the eLua-svn
mailing list</a><br>
</body></html>
