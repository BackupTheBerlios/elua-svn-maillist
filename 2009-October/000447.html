<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Elua-svn] r491 - trunk/doc
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/elua-svn/2009-October/index.html" >
   <LINK REL="made" HREF="mailto:elua-svn%40lists.berlios.de?Subject=Re%3A%20%5BElua-svn%5D%20r491%20-%20trunk/doc&In-Reply-To=%3C200910212218.n9LMIALb000507%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000446.html">
   <LINK REL="Next"  HREF="000448.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Elua-svn] r491 - trunk/doc</H1>
    <B>jbsnyder at BerliOS</B> 
    <A HREF="mailto:elua-svn%40lists.berlios.de?Subject=Re%3A%20%5BElua-svn%5D%20r491%20-%20trunk/doc&In-Reply-To=%3C200910212218.n9LMIALb000507%40sheep.berlios.de%3E"
       TITLE="[Elua-svn] r491 - trunk/doc">jbsnyder at mail.berlios.de
       </A><BR>
    <I>Thu Oct 22 00:18:10 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="000446.html">[Elua-svn] r490 - trunk/doc
</A></li>
        <LI>Next message: <A HREF="000448.html">[Elua-svn] r492 - branches
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#447">[ date ]</a>
              <a href="thread.html#447">[ thread ]</a>
              <a href="subject.html#447">[ subject ]</a>
              <a href="author.html#447">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: jbsnyder
Date: 2009-10-22 00:18:10 +0200 (Thu, 22 Oct 2009)
New Revision: 491

Modified:
   trunk/doc/buildall.lua
Log:
Fixes on documentation for validation errors.

Modified: trunk/doc/buildall.lua
===================================================================
--- trunk/doc/buildall.lua	2009-10-21 17:19:24 UTC (rev 490)
+++ trunk/doc/buildall.lua	2009-10-21 22:18:10 UTC (rev 491)
@@ -212,7 +212,7 @@
   level = level or 1
   local data = ''
   local lidx = langidx[ lang ]
-  local arrptr = '&lt;img class=&quot;rightarrowpointer&quot; src=&quot;ddlevelsfiles/arrow-right.gif&quot; /&gt;'
+  local arrptr = '&lt;img class=&quot;rightarrowpointer&quot; src=&quot;ddlevelsfiles/arrow-right.gif&quot; alt=&quot;right arrow&quot; /&gt;'
   for i = 1, #item do
     local l = item[ i ]
     if l[ submenu_idx ] then
@@ -254,28 +254,27 @@
         &lt;ul id=&quot;%s&quot;&gt;      
 %s
         &lt;/ul&gt;
-      &lt;/li&gt;
 ]], relname, string.sub( gen_submenus( themenu[ i ][ submenu_idx ], lang ), 1, -2 ) )
-        imginsert = '&lt;img class=&quot;rightarrowpointer&quot; src=&quot;ddlevelsfiles/arrow-right.gif&quot;/&gt;'
+        imginsert = '&lt;img class=&quot;rightarrowpointer&quot; src=&quot;ddlevelsfiles/arrow-right.gif&quot; alt=&quot;right arrow&quot; /&gt;'
       end
       if name then
         if i == parentid then
           -- If this is the parent, use a special style for it (&lt;a class=&quot;current&quot;&gt; or &lt;li class=&quot;current&quot;&gt;, depending on the item type)
           if themenu[ i ][ submenu_idx ] then
-            htmlstr = htmlstr .. string.format('      &lt;li&gt;&lt;a class=&quot;current&quot; href=&quot;%s&quot; rel=&quot;%s&quot;%s&gt;%s%s&lt;/a&gt;\n%s    &lt;/li&gt;\n', get_link( lang, link ), relname, styledef, imginsert, name, menudata )
+            htmlstr = htmlstr .. string.format('      &lt;li&gt;&lt;a class=&quot;current&quot; href=&quot;%s&quot; rel=&quot;%s&quot;%s&gt;%s%s&lt;/a&gt;\n%s      &lt;/li&gt;\n', get_link( lang, link ), relname, styledef, imginsert, name, menudata )
           else
-            htmlstr = htmlstr .. string.format('      &lt;li class=&quot;current&quot;%s&gt;%s%s\n%s    &lt;/li&gt;\n', styledef, imginsert, name, menudata )
+            htmlstr = htmlstr .. string.format('      &lt;li class=&quot;current&quot;%s&gt;%s%s\n%s      &lt;/li&gt;\n', styledef, imginsert, name, menudata )
           end
         else
           local submenustr = themenu[ i ][ submenu_idx ] and string.format( ' rel=&quot;%s&quot;', relname ) or &quot;&quot;
-          htmlstr = htmlstr .. string.format('      &lt;li&gt;&lt;a href=&quot;%s&quot;%s%s&gt;%s%s&lt;/a&gt;\n%s   &lt;/li&gt;\n', get_link( lang, link ), submenustr, styledef, imginsert, name, menudata )
+          htmlstr = htmlstr .. string.format('      &lt;li&gt;&lt;a href=&quot;%s&quot;%s%s&gt;%s%s&lt;/a&gt;\n%s     &lt;/li&gt;\n', get_link( lang, link ), submenustr, styledef, imginsert, name, menudata )
         end
       end
     end
   end
   offline_data = not is_offline and [[
   &lt;p style=&quot;margin-left: 35px;&quot;&gt;&lt;a href=&quot;<A HREF="http://www.pax.com/free-counters.html">http://www.pax.com/free-counters.html</A>&quot;&gt;&lt;img src=&quot;<A HREF="http://counter.pax.com/counter/image?counter=ctr-zsg80nnmqt">http://counter.pax.com/counter/image?counter=ctr-zsg80nnmqt</A>&quot; alt=&quot;Free Hit Counter&quot; style=&quot;border: 0;&quot; /&gt;&lt;/a&gt;&lt;/p&gt;
-&lt;p style=&quot;margin-left: 18px;&quot;&gt;&lt;a href=&quot;<A HREF="http://developer.berlios.de">http://developer.berlios.de</A>&quot; title=&quot;BerliOS Developer&quot;&gt; &lt;img src=&quot;<A HREF="http://developer.berlios.de/bslogo.php?group_id=9919">http://developer.berlios.de/bslogo.php?group_id=9919</A>&quot; width=&quot;124px&quot; height=&quot;32px&quot; border=&quot;0&quot; alt=&quot;BerliOS Developer Logo&quot;&gt;&lt;/a&gt;&lt;/p&gt;
+&lt;p style=&quot;margin-left: 18px;&quot;&gt;&lt;a href=&quot;<A HREF="http://developer.berlios.de">http://developer.berlios.de</A>&quot; title=&quot;BerliOS Developer&quot;&gt; &lt;img src=&quot;<A HREF="http://developer.berlios.de/bslogo.php?group_id=9919">http://developer.berlios.de/bslogo.php?group_id=9919</A>&quot; width=&quot;124px&quot; height=&quot;32px&quot; style=&quot;border: 0;&quot; alt=&quot;BerliOS Developer Logo&quot; /&gt;&lt;/a&gt;&lt;/p&gt;
 ]] or &quot;&quot;
   htmlstr = htmlstr .. string.format( [[
     &lt;/ul&gt;  
@@ -294,9 +293,9 @@
     local crtlang = languages[ i ]
     local hlang = crtlang:sub( 1, 1 ):upper() .. crtlang:sub( 2, -1 )
     if lang:lower() == crtlang:lower() then 
-      langdata = langdata .. string.format('          &lt;td align=&quot;center&quot;&gt;&lt;h6 class=&quot;selected&quot;&gt;&lt;img src=&quot;images/%s.jpg&quot; border=&quot;0&quot; /&gt;&lt;/h6&gt;&lt;/td&gt;\n', hlang )
+      langdata = langdata .. string.format('          &lt;td align=&quot;center&quot;&gt;&lt;h6 class=&quot;selected&quot;&gt;&lt;img src=&quot;images/%s.jpg&quot; alt=&quot;%s&quot; style=&quot;border: 0;&quot; /&gt;&lt;/h6&gt;&lt;/td&gt;\n', hlang, crtlang )
     else
-      langdata = langdata .. string.format('          &lt;td align=&quot;center&quot;&gt;&lt;h6&gt;&lt;a href=&quot;%s_%s&quot; class=&quot;lang&quot;&gt;&lt;img src=&quot;images/%s.jpg&quot; border=&quot;0&quot; /&gt;&lt;/a&gt;&lt;/h6&gt;&lt;/td&gt;\n', crtlang:lower(), fname, hlang )
+      langdata = langdata .. string.format('          &lt;td align=&quot;center&quot;&gt;&lt;h6&gt;&lt;a href=&quot;%s_%s&quot; class=&quot;lang&quot;&gt;&lt;img src=&quot;images/%s.jpg&quot; alt=&quot;%s&quot; style=&quot;border: 0;&quot; /&gt;&lt;/a&gt;&lt;/h6&gt;&lt;/td&gt;\n', crtlang:lower(), fname, hlang, crtlang )
     end
   end
 return string.format( [[
@@ -376,7 +375,7 @@
   orig = orig:gsub( 'target=&quot;_blank&quot;', &quot;&quot; )
 
   -- Generate actual data
-  local header = string.format( [[
+  local header = string.format( [=[
 &lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Strict//EN&quot; &quot;<A HREF="http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd</A>&quot;&gt;
 &lt;html xmlns=&quot;<A HREF="http://www.w3.org/1999/xhtml">http://www.w3.org/1999/xhtml</A>&quot;&gt;
 
@@ -400,11 +399,11 @@
 }
 if (window.attachEvent) window.attachEvent(&quot;onload&quot;, sfHover);
 
-//--&gt;&lt;!\]\]&gt;&lt;/script&gt;
+//--&gt;&lt;!]]&gt;&lt;/script&gt;
 &lt;/head&gt;
 
 &lt;body&gt;
-]], get_menu_title( item, lang ) )
+]=], get_menu_title( item, lang ) )
   header = header .. gen_logo( fname, lang ) .. &quot;\n&quot;
   local menuitems = gen_html_nav( parentid, lang )
   header = header .. menuitems .. '&lt;div id=&quot;content&quot;&gt;\n'


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000446.html">[Elua-svn] r490 - trunk/doc
</A></li>
	<LI>Next message: <A HREF="000448.html">[Elua-svn] r492 - branches
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#447">[ date ]</a>
              <a href="thread.html#447">[ thread ]</a>
              <a href="subject.html#447">[ subject ]</a>
              <a href="author.html#447">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/elua-svn">More information about the eLua-svn
mailing list</a><br>
</body></html>
