<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [eLua-svn] [elua/elua] a406b6: Added ROM strings
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/elua-svn/2011-July/index.html" >
   <LINK REL="made" HREF="mailto:elua-svn%40lists.berlios.de?Subject=Re%3A%20%5BeLua-svn%5D%20%5Belua/elua%5D%20a406b6%3A%20Added%20ROM%20strings&In-Reply-To=%3C20110728135447.ED90442630%40smtp1.rs.github.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001058.html">
   <LINK REL="Next"  HREF="001060.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[eLua-svn] [elua/elua] a406b6: Added ROM strings</H1>
    <B>noreply at github.com</B> 
    <A HREF="mailto:elua-svn%40lists.berlios.de?Subject=Re%3A%20%5BeLua-svn%5D%20%5Belua/elua%5D%20a406b6%3A%20Added%20ROM%20strings&In-Reply-To=%3C20110728135447.ED90442630%40smtp1.rs.github.com%3E"
       TITLE="[eLua-svn] [elua/elua] a406b6: Added ROM strings">noreply at github.com
       </A><BR>
    <I>Thu Jul 28 15:54:48 CEST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="001058.html">[eLua-svn] [elua/elua] 06fa25: add os module for desktop builds of	Lua including ...
</A></li>
        <LI>Next message: <A HREF="001060.html">[eLua-svn] [elua/elua] a54b17: added alignment for ROMFS files	(needed by future ...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1059">[ date ]</a>
              <a href="thread.html#1059">[ thread ]</a>
              <a href="subject.html#1059">[ subject ]</a>
              <a href="author.html#1059">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>  Branch: refs/heads/memopt
  Home:   <A HREF="https://github.com/elua/elua">https://github.com/elua/elua</A>

  Commit: a406b6a7440b9a55df51dd72a32366817957cbca
      <A HREF="https://github.com/elua/elua/commit/a406b6a7440b9a55df51dd72a32366817957cbca">https://github.com/elua/elua/commit/a406b6a7440b9a55df51dd72a32366817957cbca</A>
  Author: Bogdan Marinescu &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/elua-svn">bogdan.marinescu at gmail.com</A>&gt;
  Date:   2011-07-28 (Thu, 28 Jul 2011)

  Changed paths:
    M inc/newlib/devman.h
  M src/lua/lauxlib.c
  M src/lua/lbaselib.c
  M src/lua/lgc.c
  M src/lua/lgc.h
  M src/lua/lobject.h
  M src/lua/lstring.c
  M src/lua/lstring.h
  M src/lua/lundump.c
  M src/lua/lzio.c
  M src/lua/lzio.h
  M src/mmcfs.c
  M src/newlib/devman.c
  M src/newlib/genstd.c
  M src/newlib/stdtcp.c
  M src/remotefs/elua_rfs.c
  M src/romfs.c
  M src/semifs.c

  Log Message:
  -----------
  Added ROM strings

If a Lua file is loaded from ROMFS it can be accessed directly now
(no need to load it to RAM first). This has two distinct effects:

- source files: the source is read directly from ROM
- bytecode files: TString (Lua's string type) was augmented with
  the option to keep the string content (NOT the string value itself,
  just its content) in ROM (no need to read it to RAM first). This
  translates directly to RAM savings.

Still testing this, seems to work fine for now. If OK I'll extend it to
keep certain parts of functions in ROM (notably the bytecode).
Once again, this works only for files in ROMFS (for obvious reasons).



</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001058.html">[eLua-svn] [elua/elua] 06fa25: add os module for desktop builds of	Lua including ...
</A></li>
	<LI>Next message: <A HREF="001060.html">[eLua-svn] [elua/elua] a54b17: added alignment for ROMFS files	(needed by future ...
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1059">[ date ]</a>
              <a href="thread.html#1059">[ thread ]</a>
              <a href="subject.html#1059">[ subject ]</a>
              <a href="author.html#1059">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/elua-svn">More information about the eLua-svn
mailing list</a><br>
</body></html>
