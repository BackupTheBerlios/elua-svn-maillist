<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [eLua-svn] [elua/elua] c8b89a: Fix possible Lua stack corruption	issue
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/elua-svn/2012-April/index.html" >
   <LINK REL="made" HREF="mailto:elua-svn%40lists.berlios.de?Subject=Re%3A%20%5BeLua-svn%5D%20%5Belua/elua%5D%20c8b89a%3A%20Fix%20possible%20Lua%20stack%20corruption%0A%09issue&In-Reply-To=%3C4f8f322f73f2f_15a71119ae452271%40sh3.rs.github.com.mail%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   
   <LINK REL="Next"  HREF="001230.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[eLua-svn] [elua/elua] c8b89a: Fix possible Lua stack corruption	issue</H1>
    <B>GitHub</B> 
    <A HREF="mailto:elua-svn%40lists.berlios.de?Subject=Re%3A%20%5BeLua-svn%5D%20%5Belua/elua%5D%20c8b89a%3A%20Fix%20possible%20Lua%20stack%20corruption%0A%09issue&In-Reply-To=%3C4f8f322f73f2f_15a71119ae452271%40sh3.rs.github.com.mail%3E"
       TITLE="[eLua-svn] [elua/elua] c8b89a: Fix possible Lua stack corruption	issue">noreply at github.com
       </A><BR>
    <I>Wed Apr 18 23:29:19 CEST 2012</I>
    <P><UL>
        
        <LI>Next message: <A HREF="001230.html">[eLua-svn] [elua/elua] c8cf56: Starting point for kinetis port.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1229">[ date ]</a>
              <a href="thread.html#1229">[ thread ]</a>
              <a href="subject.html#1229">[ subject ]</a>
              <a href="author.html#1229">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>  Branch: refs/heads/master
  Home:   <A HREF="https://github.com/elua/elua">https://github.com/elua/elua</A>
  Commit: c8b89a46d9197237db6dec594000ef46e9c99ff3
      <A HREF="https://github.com/elua/elua/commit/c8b89a46d9197237db6dec594000ef46e9c99ff3">https://github.com/elua/elua/commit/c8b89a46d9197237db6dec594000ef46e9c99ff3</A>
  Author: Yuki Tamura &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/elua-svn">devouringstrossus at gmail.com</A>&gt;
  Date:   2012-04-18 (Wed, 18 Apr 2012)

  Changed paths:
    M src/lua/ldo.c

  Log Message:
  -----------
  Fix possible Lua stack corruption issue

luaD_checkstack could damage the stack, possibly making further
references to 'func' invalid. Fix this by using the information
inside the CallInfo structure instead of 'func'.


  Commit: 1a5b04e2c336f338975ddb3b322b7756ba6f770f
      <A HREF="https://github.com/elua/elua/commit/1a5b04e2c336f338975ddb3b322b7756ba6f770f">https://github.com/elua/elua/commit/1a5b04e2c336f338975ddb3b322b7756ba6f770f</A>
  Author: Sokolov Yura &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/elua-svn">funny.falcon at gmail.com</A>&gt;
  Date:   2012-04-18 (Wed, 18 Apr 2012)

  Changed paths:
    M SConstruct
    M build_elua.lua
    M src/lua/lobject.c
    M src/lua/lobject.h
    M src/lua/lrotable.h
    M src/lua/ltable.c
    M src/lua/ltable.h

  Log Message:
  -----------
  NaN packing for TValues

&gt;<i>From the Lua Power Patches page:
</I>
&quot;Use NaN packing for TValue on x86 to reduce memory usage
and tiny performance gain (same as in LuaJIT i2).
It's fully ABI compatible with standard Lua libraries.
On one test script memory consumption reduced from 28Mb
to 21Mb and performance improved about 3.5-5%&quot;

Added support for big endian architectures and LTR compatibility.


Compare: <A HREF="https://github.com/elua/elua/compare/fbebb29...1a5b04e">https://github.com/elua/elua/compare/fbebb29...1a5b04e</A>
</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	
	<LI>Next message: <A HREF="001230.html">[eLua-svn] [elua/elua] c8cf56: Starting point for kinetis port.
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1229">[ date ]</a>
              <a href="thread.html#1229">[ thread ]</a>
              <a href="subject.html#1229">[ subject ]</a>
              <a href="author.html#1229">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/elua-svn">More information about the eLua-svn
mailing list</a><br>
</body></html>
